# 防抖节流

> 防抖相当于回城，节流相当于技能冷却



## 防抖 debounce

防抖指的是函数需要频繁出发的情况时，只有足够的时间才执行一次。

常应用的场景:

- 搜索框（比如输入“nba”，浏览器这边只需要直接响应一次就可以，而不是一个一个字符进行响应）
- 拖拽

<img src="/Users/lujiema/Documents/typora-user-images/Screenshot 2024-12-12 at 2.25.59 AM.png" alt="Screenshot 2024-12-12 at 2.25.59 AM" style="zoom:50%;" />

```javascript
function debounce (fn, delay) {
    let t = null;
    return function (...args) {
        if (t !== null) {
            clearTimeout(t);
        }

        t = setTimeout(() => {
          	// 这里 apply 是为了保证 this 指向正确
          	// 没有绑定过的 this 指向全局对象
            fn.apply(this, args);
        }, delay)
    }
}
```



## 节流 Thorttle

无论用户在规定时间内点击几次，规定时间内的点击只触发一次。

常应用场景：

- 游戏中通过按下按钮执行的关键动作
- 滚动事件处理

<img src="/Users/lujiema/Documents/typora-user-images/Screenshot 2024-12-12 at 2.31.49 AM.png" alt="Screenshot 2024-12-12 at 2.31.49 AM" style="zoom:50%;" />

```javascript
function thorttle(fn, wait) {
    let lastTime = 0;
    return function (...args) {
        let nowTime = new Date().getTime();
        if (nowTime - lastTime > wait) {
            fn.apply(this, args);
            lastTime = nowTime;
        }
    }
}
```













