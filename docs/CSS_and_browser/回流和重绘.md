# 回流和重绘

在浏览器中，我们对 DOM 进行操作的话，会引起两个过程：回流和重绘。先回流再重绘

**回流（重排）**：页面中的元素位置，尺寸发生变化，浏览器需要重新计算元素的几何属性，然后重新排列元素。回流是一个相对昂贵的操作，因为涉及到大量的计算。

**重绘**：当元素的外观发生改变，比如颜色，阴影，边框样式等，但当布局没有发生变化的时候，浏览器需要重新绘制元素。重绘通常比回流要快，因为不涉及计算。

当缩放浏览器边框大小，操作dom元素的时候，都有可能触发回流和重绘。回流一定出发重绘，重绘不一定触发回流。

如何减少回流和重绘呢？

1. **避免频繁操作DOM**：一次性修改多个元素的属性，而不是一个个修改
1. **使用 transform 和 opacity 进行动画**：这些属性的动画只会触发重绘，不会引发回流
1. **使用 will-change 属性**：告诉浏览器哪些属性需要优化
1. **合理使用 display:none**：隐藏元素时，使用 display:none 而不是 display:hidden，因为后者只影响视觉但是不影响布局（使用 hidden 的话，元素以让占据空间）
1. **避免使用 table 布局**：因为 table 的一个小变化就会引起整个表格的回流

